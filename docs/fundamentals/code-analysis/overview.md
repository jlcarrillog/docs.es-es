---
title: Análisis de código en .NET
titleSuffix: ''
description: Obtenga información sobre el análisis de código fuente en el SDK de .NET.
ms.date: 08/22/2020
ms.topic: overview
ms.custom: updateeachrelease
helpviewer_keywords:
- code analysis
- code analyzers
ms.openlocfilehash: 8efac4d5e3fddcb9fdc6e08bcc933f2776420ced
ms.sourcegitcommit: ecd9e9bb2225eb76f819722ea8b24988fe46f34c
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/05/2020
ms.locfileid: "96739979"
---
# <a name="overview-of-net-source-code-analysis"></a><span data-ttu-id="c16bf-103">Información general sobre el análisis de código fuente de .NET</span><span class="sxs-lookup"><span data-stu-id="c16bf-103">Overview of .NET source code analysis</span></span>

<span data-ttu-id="c16bf-104">Los analizadores de .NET Compiler Platform (Roslyn) inspeccionan el código de C# o Visual Basic para supervisar la calidad del código y verificar si contiene problemas de estilo.</span><span class="sxs-lookup"><span data-stu-id="c16bf-104">.NET compiler platform (Roslyn) analyzers inspect your C# or Visual Basic code for code quality and code style issues.</span></span> <span data-ttu-id="c16bf-105">A partir de .NET 5.0, estos analizadores se incluyen con el SDK de .NET.</span><span class="sxs-lookup"><span data-stu-id="c16bf-105">Starting in .NET 5.0, these analyzers are included with the .NET SDK.</span></span> <span data-ttu-id="c16bf-106">Si no desea pasar al SDK de .NET 5 o si prefiere un modelo basado en paquetes NuGet, los analizadores también están disponibles en el `Microsoft.CodeAnalysis.NetAnalyzers` [paquete Nuget](https://www.nuget.org/packages/Microsoft.CodeAnalysis.NetAnalyzers).</span><span class="sxs-lookup"><span data-stu-id="c16bf-106">If you don't want to move to the .NET 5+ SDK or if you prefer a NuGet package-based model, the analyzers are also available in the `Microsoft.CodeAnalysis.NetAnalyzers` [NuGet package](https://www.nuget.org/packages/Microsoft.CodeAnalysis.NetAnalyzers).</span></span> <span data-ttu-id="c16bf-107">Podría preferir un modelo basado en paquetes para las actualizaciones de versión a petición.</span><span class="sxs-lookup"><span data-stu-id="c16bf-107">You might prefer a package-based model for on-demand version updates.</span></span>

> [!NOTE]
> <span data-ttu-id="c16bf-108">Los analizadores de .NET son independientes de la plataforma de destino.</span><span class="sxs-lookup"><span data-stu-id="c16bf-108">.NET analyzers are target-platform agnostic.</span></span> <span data-ttu-id="c16bf-109">Es decir, el proyecto no necesita tener como destino una plataforma .NET específica.</span><span class="sxs-lookup"><span data-stu-id="c16bf-109">That is, your project does not need to target a specific .NET platform.</span></span> <span data-ttu-id="c16bf-110">Los analizadores funcionan para los proyectos que tienen `net5.0` como destino y versiones anteriores de .net, como `netcoreapp` , `netstandard` y `net472` .</span><span class="sxs-lookup"><span data-stu-id="c16bf-110">The analyzers work for projects that target `net5.0` as well as earlier .NET versions, such as `netcoreapp`, `netstandard`, and `net472`.</span></span>

- [<span data-ttu-id="c16bf-111">Análisis de calidad del código (reglas "CAxxxx")</span><span class="sxs-lookup"><span data-stu-id="c16bf-111">Code quality analysis ("CAxxxx" rules)</span></span>](#code-quality-analysis)
- [<span data-ttu-id="c16bf-112">Análisis de estilo de código (reglas "IDExxxx")</span><span class="sxs-lookup"><span data-stu-id="c16bf-112">Code style analysis ("IDExxxx" rules)</span></span>](#code-style-analysis)

<span data-ttu-id="c16bf-113">Si un analizador encuentra infracciones de reglas, se les indica como una sugerencia, una advertencia o un error, en función de cómo esté [configurada](configuration-options.md)cada regla.</span><span class="sxs-lookup"><span data-stu-id="c16bf-113">If rule violations are found by an analyzer, they're reported as a suggestion, warning, or error, depending on how each rule is [configured](configuration-options.md).</span></span> <span data-ttu-id="c16bf-114">Las infracciones del análisis de código aparecen con el prefijo "CA" o "IDE" para diferenciarlas de los errores del compilador.</span><span class="sxs-lookup"><span data-stu-id="c16bf-114">Code analysis violations appear with the prefix "CA" or "IDE" to differentiate them from compiler errors.</span></span>

> [!TIP]
>
> - <span data-ttu-id="c16bf-115">También puede instalar analizadores de terceros, como [StyleCop](https://www.nuget.org/packages/StyleCop.Analyzers/), [Roslynator](https://www.nuget.org/packages/Roslynator.Analyzers/), [analizadores de xUnit](https://www.nuget.org/packages/xunit.analyzers/)y analizador de [Sónar](https://www.nuget.org/packages/SonarAnalyzer.CSharp/).</span><span class="sxs-lookup"><span data-stu-id="c16bf-115">You can also install third party analyzers, such as [StyleCop](https://www.nuget.org/packages/StyleCop.Analyzers/), [Roslynator](https://www.nuget.org/packages/Roslynator.Analyzers/), [XUnit Analyzers](https://www.nuget.org/packages/xunit.analyzers/), and [Sonar Analyzer](https://www.nuget.org/packages/SonarAnalyzer.CSharp/).</span></span>
> - <span data-ttu-id="c16bf-116">Si utiliza Visual Studio, muchas reglas del analizador tienen *correcciones de código* asociadas que puede aplicar para corregir el problema.</span><span class="sxs-lookup"><span data-stu-id="c16bf-116">If you're using Visual Studio, many analyzer rules have associated *code fixes* that you can apply to correct the problem.</span></span> <span data-ttu-id="c16bf-117">Las correcciones de código se muestran en el menú de icono de bombilla.</span><span class="sxs-lookup"><span data-stu-id="c16bf-117">Code fixes are shown in the light bulb icon menu.</span></span>

## <a name="code-quality-analysis"></a><span data-ttu-id="c16bf-118">Análisis de calidad del código</span><span class="sxs-lookup"><span data-stu-id="c16bf-118">Code quality analysis</span></span>

<span data-ttu-id="c16bf-119">_Las reglas de análisis de calidad del código ("CA")_ inspeccionan el código de C# o Visual Basic para la seguridad, el rendimiento, el diseño y otros problemas.</span><span class="sxs-lookup"><span data-stu-id="c16bf-119">_Code quality analysis ("CA") rules_ inspect your C# or Visual Basic code for security, performance, design and other issues.</span></span> <span data-ttu-id="c16bf-120">De forma predeterminada, el análisis se habilita para los proyectos que tienen como destino .NET 5,0 o posterior.</span><span class="sxs-lookup"><span data-stu-id="c16bf-120">Analysis is enabled, by default, for projects that target .NET 5.0 or later.</span></span> <span data-ttu-id="c16bf-121">Puede habilitar el análisis de código en los proyectos que tienen como destino versiones anteriores de .NET estableciendo la propiedad [EnableNETAnalyzers](../../core/project-sdk/msbuild-props.md#enablenetanalyzers) en `true` .</span><span class="sxs-lookup"><span data-stu-id="c16bf-121">You can enable code analysis on projects that target earlier .NET versions by setting the [EnableNETAnalyzers](../../core/project-sdk/msbuild-props.md#enablenetanalyzers) property to `true`.</span></span> <span data-ttu-id="c16bf-122">También puede deshabilitar el análisis de código del proyecto si establece `EnableNETAnalyzers` en `false` .</span><span class="sxs-lookup"><span data-stu-id="c16bf-122">You can also disable code analysis for your project by setting `EnableNETAnalyzers` to `false`.</span></span>

> [!TIP]
> <span data-ttu-id="c16bf-123">En Visual Studio, puede habilitar o deshabilitar el análisis de código mediante el ventana Propiedades del proyecto.</span><span class="sxs-lookup"><span data-stu-id="c16bf-123">In Visual Studio, you can enable or disable code analysis using the Project Properties window.</span></span> <span data-ttu-id="c16bf-124">Para acceder al ventana Propiedades del proyecto, haga clic con el botón derecho en un proyecto de Explorador de soluciones y seleccione **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="c16bf-124">To access the Project Properties window, right-click on a project within Solution Explorer and select **Properties**.</span></span> <span data-ttu-id="c16bf-125">A continuación, seleccione la pestaña **análisis de código** y, a continuación, Active o desactive la casilla para **habilitar los analizadores de .net**.</span><span class="sxs-lookup"><span data-stu-id="c16bf-125">Next, select the **Code Analysis** tab, and then either select or clear the checkbox to **Enable .NET analyzers**.</span></span>

### <a name="enabled-rules"></a><span data-ttu-id="c16bf-126">Reglas habilitadas</span><span class="sxs-lookup"><span data-stu-id="c16bf-126">Enabled rules</span></span>

<span data-ttu-id="c16bf-127">Las siguientes reglas están habilitadas de forma predeterminada en .NET 5,0 Preview 8.</span><span class="sxs-lookup"><span data-stu-id="c16bf-127">The following rules are enabled, by default, in .NET 5.0 Preview 8.</span></span>

| <span data-ttu-id="c16bf-128">Id. de diagnóstico</span><span class="sxs-lookup"><span data-stu-id="c16bf-128">Diagnostic ID</span></span> | <span data-ttu-id="c16bf-129">Category</span><span class="sxs-lookup"><span data-stu-id="c16bf-129">Category</span></span> | <span data-ttu-id="c16bf-130">severity</span><span class="sxs-lookup"><span data-stu-id="c16bf-130">Severity</span></span> | <span data-ttu-id="c16bf-131">Descripción</span><span class="sxs-lookup"><span data-stu-id="c16bf-131">Description</span></span> |
| - | - | - | - |
| [<span data-ttu-id="c16bf-132">CA1416</span><span class="sxs-lookup"><span data-stu-id="c16bf-132">CA1416</span></span>](/visualstudio/code-quality/ca1416) | <span data-ttu-id="c16bf-133">Interoperabilidad</span><span class="sxs-lookup"><span data-stu-id="c16bf-133">Interoperability</span></span> | <span data-ttu-id="c16bf-134">Advertencia</span><span class="sxs-lookup"><span data-stu-id="c16bf-134">Warning</span></span> | <span data-ttu-id="c16bf-135">Analizador de compatibilidad de plataformas</span><span class="sxs-lookup"><span data-stu-id="c16bf-135">Platform compatibility analyzer</span></span> |
| [<span data-ttu-id="c16bf-136">CA1417</span><span class="sxs-lookup"><span data-stu-id="c16bf-136">CA1417</span></span>](/visualstudio/code-quality/ca1417) | <span data-ttu-id="c16bf-137">Interoperabilidad</span><span class="sxs-lookup"><span data-stu-id="c16bf-137">Interoperability</span></span> | <span data-ttu-id="c16bf-138">Advertencia</span><span class="sxs-lookup"><span data-stu-id="c16bf-138">Warning</span></span> | <span data-ttu-id="c16bf-139">No usar `OutAttribute` en parámetros de cadena para P/Invoke</span><span class="sxs-lookup"><span data-stu-id="c16bf-139">Do not use `OutAttribute` on string parameters for P/Invokes</span></span> |
| [<span data-ttu-id="c16bf-140">CA1831</span><span class="sxs-lookup"><span data-stu-id="c16bf-140">CA1831</span></span>](/visualstudio/code-quality/ca1831) | <span data-ttu-id="c16bf-141">Rendimiento</span><span class="sxs-lookup"><span data-stu-id="c16bf-141">Performance</span></span> | <span data-ttu-id="c16bf-142">Advertencia</span><span class="sxs-lookup"><span data-stu-id="c16bf-142">Warning</span></span> | <span data-ttu-id="c16bf-143">Use `AsSpan` en lugar de indizadores basados en intervalos para la cadena cuando corresponda.</span><span class="sxs-lookup"><span data-stu-id="c16bf-143">Use `AsSpan` instead of range-based indexers for string when appropriate</span></span> |
| [<span data-ttu-id="c16bf-144">CA2013</span><span class="sxs-lookup"><span data-stu-id="c16bf-144">CA2013</span></span>](/visualstudio/code-quality/ca2013) | <span data-ttu-id="c16bf-145">Confiabilidad</span><span class="sxs-lookup"><span data-stu-id="c16bf-145">Reliability</span></span> | <span data-ttu-id="c16bf-146">Advertencia</span><span class="sxs-lookup"><span data-stu-id="c16bf-146">Warning</span></span> | <span data-ttu-id="c16bf-147">No usar `ReferenceEquals` con tipos de valor</span><span class="sxs-lookup"><span data-stu-id="c16bf-147">Do not use `ReferenceEquals` with value types</span></span> |
| [<span data-ttu-id="c16bf-148">CA2014</span><span class="sxs-lookup"><span data-stu-id="c16bf-148">CA2014</span></span>](/visualstudio/code-quality/ca2014) | <span data-ttu-id="c16bf-149">Confiabilidad</span><span class="sxs-lookup"><span data-stu-id="c16bf-149">Reliability</span></span> | <span data-ttu-id="c16bf-150">Advertencia</span><span class="sxs-lookup"><span data-stu-id="c16bf-150">Warning</span></span> | <span data-ttu-id="c16bf-151">No usar `stackalloc` en bucles</span><span class="sxs-lookup"><span data-stu-id="c16bf-151">Do not use `stackalloc` in loops</span></span> |
| [<span data-ttu-id="c16bf-152">CA2015</span><span class="sxs-lookup"><span data-stu-id="c16bf-152">CA2015</span></span>](/visualstudio/code-quality/ca2015) | <span data-ttu-id="c16bf-153">Confiabilidad</span><span class="sxs-lookup"><span data-stu-id="c16bf-153">Reliability</span></span> | <span data-ttu-id="c16bf-154">Advertencia</span><span class="sxs-lookup"><span data-stu-id="c16bf-154">Warning</span></span> | <span data-ttu-id="c16bf-155">No defina finalizadores para los tipos derivados de <xref:System.Buffers.MemoryManager%601></span><span class="sxs-lookup"><span data-stu-id="c16bf-155">Do not define finalizers for types derived from <xref:System.Buffers.MemoryManager%601></span></span> |
| [<span data-ttu-id="c16bf-156">CA2200</span><span class="sxs-lookup"><span data-stu-id="c16bf-156">CA2200</span></span>](/visualstudio/code-quality/ca2200) | <span data-ttu-id="c16bf-157">Uso</span><span class="sxs-lookup"><span data-stu-id="c16bf-157">Usage</span></span> | <span data-ttu-id="c16bf-158">Advertencia</span><span class="sxs-lookup"><span data-stu-id="c16bf-158">Warning</span></span> | <span data-ttu-id="c16bf-159">Reiniciar para mantener los detalles de la pila</span><span class="sxs-lookup"><span data-stu-id="c16bf-159">Rethrow to preserve stack details</span></span>
| [<span data-ttu-id="c16bf-160">CA2247</span><span class="sxs-lookup"><span data-stu-id="c16bf-160">CA2247</span></span>](/visualstudio/code-quality/ca2247) | <span data-ttu-id="c16bf-161">Uso</span><span class="sxs-lookup"><span data-stu-id="c16bf-161">Usage</span></span> | <span data-ttu-id="c16bf-162">Advertencia</span><span class="sxs-lookup"><span data-stu-id="c16bf-162">Warning</span></span> | <span data-ttu-id="c16bf-163">El argumento pasado al constructor TaskCompletionSource debe ser <xref:System.Threading.Tasks.TaskCreationOptions> enum en lugar de <xref:System.Threading.Tasks.TaskContinuationOptions></span><span class="sxs-lookup"><span data-stu-id="c16bf-163">Argument passed to TaskCompletionSource constructor should be <xref:System.Threading.Tasks.TaskCreationOptions> enum instead of <xref:System.Threading.Tasks.TaskContinuationOptions></span></span> |

<span data-ttu-id="c16bf-164">Puede cambiar la gravedad de estas reglas para deshabilitarlas o elevarlas a errores.</span><span class="sxs-lookup"><span data-stu-id="c16bf-164">You can change the severity of these rules to disable them or elevate them to errors.</span></span>

<span data-ttu-id="c16bf-165">Para obtener una lista completa de las reglas de calidad de código disponibles, consulte [reglas de calidad del código](quality-rules/index.md).</span><span class="sxs-lookup"><span data-stu-id="c16bf-165">For a full list of available code quality rules, see [Code quality rules](quality-rules/index.md).</span></span>

### <a name="enable-additional-rules"></a><span data-ttu-id="c16bf-166">Habilitar reglas adicionales</span><span class="sxs-lookup"><span data-stu-id="c16bf-166">Enable additional rules</span></span>

<span data-ttu-id="c16bf-167">A partir de .NET 5.0 RC2, el SDK de .NET incluye todas las [reglas "CA" de calidad del código](/visualstudio/code-quality/code-analysis-for-managed-code-warnings).</span><span class="sxs-lookup"><span data-stu-id="c16bf-167">Starting with .NET 5.0 RC2, the .NET SDK ships with all of the ["CA" code quality rules](/visualstudio/code-quality/code-analysis-for-managed-code-warnings).</span></span> <span data-ttu-id="c16bf-168">Para obtener una lista completa de las reglas que se incluyen con cada versión del SDK de .NET, vea [versiones del analizador](https://github.com/dotnet/roslyn-analyzers/blob/master/src/NetAnalyzers/Core/AnalyzerReleases.Shipped.md).</span><span class="sxs-lookup"><span data-stu-id="c16bf-168">For a full list of rules that are included with each .NET SDK version, see [analyzer releases](https://github.com/dotnet/roslyn-analyzers/blob/master/src/NetAnalyzers/Core/AnalyzerReleases.Shipped.md).</span></span>

#### <a name="default-analysis-mode"></a><span data-ttu-id="c16bf-169">Modo de análisis predeterminado</span><span class="sxs-lookup"><span data-stu-id="c16bf-169">Default analysis mode</span></span>

<span data-ttu-id="c16bf-170">En el modo de análisis predeterminado, algunas reglas están [habilitadas de forma predeterminada](#enabled-rules) como advertencias de compilación.</span><span class="sxs-lookup"><span data-stu-id="c16bf-170">In the default analysis mode, some rules are [enabled by default](#enabled-rules) as build warnings.</span></span> <span data-ttu-id="c16bf-171">Algunas otras reglas están habilitadas de forma predeterminada solo como sugerencias del IDE de Visual Studio con las correcciones de código correspondientes.</span><span class="sxs-lookup"><span data-stu-id="c16bf-171">Some other rules are enabled by default only as Visual Studio IDE suggestions with corresponding code fixes.</span></span> <span data-ttu-id="c16bf-172">Las reglas restantes están deshabilitadas de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="c16bf-172">The remaining rules are disabled by default.</span></span> <span data-ttu-id="c16bf-173">La [lista completa de reglas](https://github.com/dotnet/roslyn-analyzers/blob/master/src/NetAnalyzers/Core/AnalyzerReleases.Shipped.md) incluye la gravedad predeterminada de cada regla y si la regla está habilitada o no de forma predeterminada en el modo de análisis predeterminado.</span><span class="sxs-lookup"><span data-stu-id="c16bf-173">The [full list of rules](https://github.com/dotnet/roslyn-analyzers/blob/master/src/NetAnalyzers/Core/AnalyzerReleases.Shipped.md) includes each rule's default severity and whether or not the rule is enabled by default in the default analysis mode.</span></span>

#### <a name="custom-analysis-mode"></a><span data-ttu-id="c16bf-174">Modo de análisis personalizado</span><span class="sxs-lookup"><span data-stu-id="c16bf-174">Custom analysis mode</span></span>

<span data-ttu-id="c16bf-175">Puede [Configurar reglas de análisis de código](configuration-options.md) para habilitar o deshabilitar una regla individual o una categoría de reglas.</span><span class="sxs-lookup"><span data-stu-id="c16bf-175">You can [configure code analysis rules](configuration-options.md) to enable or disable an individual rule or a category of rules.</span></span> <span data-ttu-id="c16bf-176">Además, puede usar la propiedad [AnalysisMode](../../core/project-sdk/msbuild-props.md#analysismode) para cambiar a uno de los siguientes modos de análisis personalizado:</span><span class="sxs-lookup"><span data-stu-id="c16bf-176">Additionally, you can use the [AnalysisMode](../../core/project-sdk/msbuild-props.md#analysismode) property to switch to one of the following custom analysis modes:</span></span>

- <span data-ttu-id="c16bf-177">Modo _agresivo_ o _de exclusión_ : todas las reglas están habilitadas de forma predeterminada como advertencias de compilación.</span><span class="sxs-lookup"><span data-stu-id="c16bf-177">_Aggressive_ or _Opt-out_ mode: All rules are enabled by default as build warnings.</span></span> <span data-ttu-id="c16bf-178">Puede [excluir](configuration-options.md) de forma selectiva reglas individuales para deshabilitarlas.</span><span class="sxs-lookup"><span data-stu-id="c16bf-178">You can selectively [opt out](configuration-options.md) of individual rules to disable them.</span></span>
- <span data-ttu-id="c16bf-179">Modo _conservador_ o _de participación_ : todas las reglas están deshabilitadas de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="c16bf-179">_Conservative_ or _Opt-in_ mode: All rules are disabled by default.</span></span> <span data-ttu-id="c16bf-180">Puede [incluir](configuration-options.md) de forma selectiva reglas individuales para habilitarlas.</span><span class="sxs-lookup"><span data-stu-id="c16bf-180">You can selectively [opt into](configuration-options.md) individual rules to enable them.</span></span>

### <a name="treat-warnings-as-errors"></a><span data-ttu-id="c16bf-181">Tratar advertencias como errores</span><span class="sxs-lookup"><span data-stu-id="c16bf-181">Treat warnings as errors</span></span>

<span data-ttu-id="c16bf-182">Si usa la `-warnaserror` marca al compilar los proyectos, todas las advertencias de análisis de código también se tratan como errores.</span><span class="sxs-lookup"><span data-stu-id="c16bf-182">If you use the `-warnaserror` flag when you build your projects, all code analysis warnings are also treated as errors.</span></span> <span data-ttu-id="c16bf-183">Si no desea que las advertencias de calidad del código (CAxxxx) se traten como errores en presencia de `-warnaserror` , puede establecer la `CodeAnalysisTreatWarningsAsErrors` propiedad de MSBuild en `false` en el archivo del proyecto.</span><span class="sxs-lookup"><span data-stu-id="c16bf-183">If you do not want code quality warnings (CAxxxx) to be treated as errors in presence of `-warnaserror`, you can set the `CodeAnalysisTreatWarningsAsErrors` MSBuild property to `false` in your project file.</span></span>

```xml
<PropertyGroup>
  <CodeAnalysisTreatWarningsAsErrors>false</CodeAnalysisTreatWarningsAsErrors>
</PropertyGroup>
```

<span data-ttu-id="c16bf-184">Seguirá viendo advertencias de análisis de código, pero no interrumpirá la compilación.</span><span class="sxs-lookup"><span data-stu-id="c16bf-184">You'll still see any code analysis warnings, but they won't break your build.</span></span>

### <a name="latest-updates"></a><span data-ttu-id="c16bf-185">Actualizaciones más recientes</span><span class="sxs-lookup"><span data-stu-id="c16bf-185">Latest updates</span></span>

<span data-ttu-id="c16bf-186">De forma predeterminada, obtendrá las reglas de análisis de código más recientes y las gravedades de las reglas predeterminadas a medida que actualice a las versiones más recientes del SDK de .NET.</span><span class="sxs-lookup"><span data-stu-id="c16bf-186">By default, you'll get the latest code analysis rules and default rule severities as you upgrade to newer versions of the .NET SDK.</span></span> <span data-ttu-id="c16bf-187">Si no desea este comportamiento, por ejemplo, si desea asegurarse de que no hay nuevas reglas habilitadas o deshabilitadas, puede invalidarlo de una de las siguientes maneras:</span><span class="sxs-lookup"><span data-stu-id="c16bf-187">If you don't want this behavior, for example, if you want to ensure that no new rules are enabled or disabled, you can override it in one of the following ways:</span></span>

- <span data-ttu-id="c16bf-188">Establezca la `AnalysisLevel` propiedad MSBuild en un valor específico para bloquear las advertencias a ese conjunto.</span><span class="sxs-lookup"><span data-stu-id="c16bf-188">Set the `AnalysisLevel` MSBuild property to a specific value to lock the warnings to that set.</span></span> <span data-ttu-id="c16bf-189">Al actualizar a un SDK más reciente, todavía obtendrá correcciones de errores para esas advertencias, pero no se habilitarán nuevas advertencias y no se deshabilitarán las advertencias existentes.</span><span class="sxs-lookup"><span data-stu-id="c16bf-189">When you upgrade to a newer SDK, you'll still get bug fixes for those warnings, but no new warnings will be enabled and no existing warnings will be disabled.</span></span> <span data-ttu-id="c16bf-190">Por ejemplo, para bloquear el conjunto de reglas a las que se incluyen en la versión 5,0 del SDK de .NET, agregue la entrada siguiente al archivo de proyecto.</span><span class="sxs-lookup"><span data-stu-id="c16bf-190">For example, to lock the set of rules to those that ship with version 5.0 of the .NET SDK, add the following entry to your project file.</span></span>

  ```xml
  <PropertyGroup>
    <AnalysisLevel>5.0</AnalysisLevel>
  </PropertyGroup>
  ```

  > [!TIP]
  > <span data-ttu-id="c16bf-191">El valor predeterminado de la `AnalysisLevel` propiedad es `latest` , lo que significa que siempre obtendrá las reglas de análisis de código más recientes al pasar a las versiones más recientes del SDK de .net.</span><span class="sxs-lookup"><span data-stu-id="c16bf-191">The default value for the `AnalysisLevel` property is `latest`, which means you always get the latest code analysis rules as you move to newer versions of the .NET SDK.</span></span>

  <span data-ttu-id="c16bf-192">Para obtener más información y para ver una lista de los valores posibles, vea [AnalysisLevel](../../core/project-sdk/msbuild-props.md#analysislevel).</span><span class="sxs-lookup"><span data-stu-id="c16bf-192">For more information, and to see a list of possible values, see [AnalysisLevel](../../core/project-sdk/msbuild-props.md#analysislevel).</span></span>

- <span data-ttu-id="c16bf-193">Instale el [paquete NuGet Microsoft. CodeAnalysis. NetAnalyzers](https://github.com/dotnet/roslyn-analyzers#microsoftcodeanalysisnetanalyzers) para desacoplar las actualizaciones de reglas de las actualizaciones del SDK de .net.</span><span class="sxs-lookup"><span data-stu-id="c16bf-193">Install the [Microsoft.CodeAnalysis.NetAnalyzers NuGet package](https://github.com/dotnet/roslyn-analyzers#microsoftcodeanalysisnetanalyzers) to decouple rule updates from .NET SDK updates.</span></span> <span data-ttu-id="c16bf-194">Al instalar el paquete, se desactivan los analizadores integrados del SDK y se genera una advertencia de compilación si el SDK contiene una versión más reciente del ensamblado del analizador que la del paquete NuGet.</span><span class="sxs-lookup"><span data-stu-id="c16bf-194">Installing the package turns off the built-in SDK analyzers and generates a build warning if the SDK contains a newer analyzer assembly version than that of the NuGet package.</span></span>

## <a name="code-style-analysis"></a><span data-ttu-id="c16bf-195">Análisis de estilo de código</span><span class="sxs-lookup"><span data-stu-id="c16bf-195">Code style analysis</span></span>

<span data-ttu-id="c16bf-196">Las reglas de [análisis de estilo de código](/visualstudio/ide/editorconfig-code-style-settings-reference) ("IDExxxx") permiten definir y mantener un estilo de código coherente en el código base.</span><span class="sxs-lookup"><span data-stu-id="c16bf-196">[Code style analysis](/visualstudio/ide/editorconfig-code-style-settings-reference) ("IDExxxx" rules) enables you to define and maintain consistent code style in your codebase.</span></span> <span data-ttu-id="c16bf-197">A continuación se muestran los valores predeterminados:</span><span class="sxs-lookup"><span data-stu-id="c16bf-197">Following are the default settings:</span></span>

- <span data-ttu-id="c16bf-198">Compilación de línea de comandos: el análisis de estilo de código está deshabilitado de forma predeterminada para todos los proyectos de .NET en compilaciones de línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="c16bf-198">Command line build: Code style analysis is disabled, by default, for all .NET projects on command-line builds.</span></span>
- <span data-ttu-id="c16bf-199">Visual Studio: el análisis de estilo de código está habilitado, de forma predeterminada, para todos los proyectos de .NET dentro de Visual Studio como [acciones rápidas de refactorización de código](/visualstudio/ide/code-generation-in-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="c16bf-199">Visual Studio: Code style analysis is enabled, by default, for all .NET projects inside Visual Studio as [code refactoring quick actions](/visualstudio/ide/code-generation-in-visual-studio).</span></span>

<span data-ttu-id="c16bf-200">A partir de .NET 5,0 RC2, puede habilitar el análisis de estilo de código en la compilación, tanto en la línea de comandos como en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c16bf-200">Starting .NET 5.0 RC2, you can enable code style analysis on build, both at the command line and inside Visual Studio.</span></span> <span data-ttu-id="c16bf-201">Las infracciones de estilo de código aparecen como advertencias o errores con un prefijo "IDE".</span><span class="sxs-lookup"><span data-stu-id="c16bf-201">Code style violations appear as warnings or errors with an "IDE" prefix.</span></span> <span data-ttu-id="c16bf-202">Esto le permite aplicar estilos de código coherentes en tiempo de compilación.</span><span class="sxs-lookup"><span data-stu-id="c16bf-202">This enables you to enforce consistent code styles at build time.</span></span>

> [!NOTE]
> <span data-ttu-id="c16bf-203">La característica de análisis de estilo de código es experimental y puede cambiar entre las versiones .NET 5 y .NET 6.</span><span class="sxs-lookup"><span data-stu-id="c16bf-203">The code style analysis feature is experimental and may change between the .NET 5 and .NET 6 releases.</span></span>

<span data-ttu-id="c16bf-204">Pasos para habilitar el análisis de estilo de código en la compilación:</span><span class="sxs-lookup"><span data-stu-id="c16bf-204">Steps to enable code style analysis on build:</span></span>

1. <span data-ttu-id="c16bf-205">Establezca la propiedad de MSBuild [EnforceCodeStyleInBuild](../../core/project-sdk/msbuild-props.md#enforcecodestyleinbuild) en `true` .</span><span class="sxs-lookup"><span data-stu-id="c16bf-205">Set the MSBuild property [EnforceCodeStyleInBuild](../../core/project-sdk/msbuild-props.md#enforcecodestyleinbuild) to `true`.</span></span>

1. <span data-ttu-id="c16bf-206">En un archivo *. editorconfig* , [Configure](configuration-options.md) cada regla de estilo de código "IDE" que desee ejecutar en la compilación como una advertencia o un error.</span><span class="sxs-lookup"><span data-stu-id="c16bf-206">In an *.editorconfig* file, [configure](configuration-options.md) each "IDE" code style rule that you wish to run on build as a warning or an error.</span></span> <span data-ttu-id="c16bf-207">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="c16bf-207">For example:</span></span>

   ```ini
   [*.{cs,vb}]
   # IDE0040: Accessibility modifiers required (escalated to a build warning)
   dotnet_diagnostic.IDE0040.severity = warning
   ```

   <span data-ttu-id="c16bf-208">Como alternativa, puede configurar la categoría de "estilo" completa como advertencia o error, de forma predeterminada y, a continuación, desactivar selectivamente las reglas que no desea que se ejecuten en la compilación.</span><span class="sxs-lookup"><span data-stu-id="c16bf-208">Alternatively, you can configure the entire "Style" category to be a warning or error, by default, and then selectively turn off rules that you don't want to run on build.</span></span> <span data-ttu-id="c16bf-209">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="c16bf-209">For example:</span></span>

   ```ini
   [*.{cs,vb}]

   # Default severity for analyzer diagnostics with category 'Style' (escalated to build warnings)
   dotnet_analyzer_diagnostic.category-Style.severity = warning

   # IDE0040: Accessibility modifiers required (disabled on build)
   dotnet_diagnostic.IDE0040.severity = silent
   ```

## <a name="suppress-a-warning"></a><span data-ttu-id="c16bf-210">Suprimir una advertencia</span><span class="sxs-lookup"><span data-stu-id="c16bf-210">Suppress a warning</span></span>

<span data-ttu-id="c16bf-211">Para suprimir una infracción de regla, establezca la opción Severity para ese ID `none` . de regla en en un archivo EditorConfig.</span><span class="sxs-lookup"><span data-stu-id="c16bf-211">To suppress a rule violation, set the severity option for that rule ID to `none` in an EditorConfig file.</span></span> <span data-ttu-id="c16bf-212">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="c16bf-212">For example:</span></span>

```ini
dotnet_diagnostic.CA1822.severity = none
```

<span data-ttu-id="c16bf-213">Visual Studio proporciona formas adicionales de suprimir las advertencias de las reglas de análisis de código.</span><span class="sxs-lookup"><span data-stu-id="c16bf-213">Visual Studio provides additional ways to suppress warnings from code analysis rules.</span></span> <span data-ttu-id="c16bf-214">Para obtener más información, vea [suprimir infracciones](/visualstudio/code-quality/use-roslyn-analyzers#suppress-violations).</span><span class="sxs-lookup"><span data-stu-id="c16bf-214">For more information, see [Suppress violations](/visualstudio/code-quality/use-roslyn-analyzers#suppress-violations).</span></span>

<span data-ttu-id="c16bf-215">Para obtener más información sobre los niveles de gravedad de las reglas, consulte [configurar la gravedad](configuration-options.md#severity-level)de la regla.</span><span class="sxs-lookup"><span data-stu-id="c16bf-215">For more information about rule severities, see [Configure rule severity](configuration-options.md#severity-level).</span></span>

## <a name="see-also"></a><span data-ttu-id="c16bf-216">Consulte también</span><span class="sxs-lookup"><span data-stu-id="c16bf-216">See also</span></span>

- [<span data-ttu-id="c16bf-217">Referencia de reglas de análisis de calidad de código</span><span class="sxs-lookup"><span data-stu-id="c16bf-217">Code quality analysis rule reference</span></span>](quality-rules/index.md)
- [<span data-ttu-id="c16bf-218">Referencia de reglas de análisis de estilo de código</span><span class="sxs-lookup"><span data-stu-id="c16bf-218">Code style analysis rule reference</span></span>](style-rules/index.md)
- [<span data-ttu-id="c16bf-219">Análisis de código en Visual Studio</span><span class="sxs-lookup"><span data-stu-id="c16bf-219">Code analysis in Visual Studio</span></span>](/visualstudio/code-quality/roslyn-analyzers-overview)
- [<span data-ttu-id="c16bf-220">SDK de la plataforma del compilador de .NET</span><span class="sxs-lookup"><span data-stu-id="c16bf-220">.NET Compiler Platform SDK</span></span>](../../csharp/roslyn-sdk/index.md)
- [<span data-ttu-id="c16bf-221">Tutorial: Crear el primer analizador y la corrección de código</span><span class="sxs-lookup"><span data-stu-id="c16bf-221">Tutorial: Write your first analyzer and code fix</span></span>](../../csharp/roslyn-sdk/tutorials/how-to-write-csharp-analyzer-code-fix.md)
