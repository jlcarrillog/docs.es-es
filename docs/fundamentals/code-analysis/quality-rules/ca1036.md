---
title: 'CA1036: invalidar métodos en tipos comparables (análisis de código)'
description: 'Más información sobre la regla de análisis de código CA1036: invalidar métodos en tipos comparables'
ms.date: 03/11/2019
ms.topic: reference
f1_keywords:
- CA1036
- OverrideMethodsOnComparableTypes
helpviewer_keywords:
- OverrideMethodsOnComparableTypes
- CA1036
author: gewarren
ms.author: gewarren
ms.openlocfilehash: a15c809301c863f882ff5b4ec35b7cd3d219e5c8
ms.sourcegitcommit: 2e4adc490c1d2a705a0592b295d606b10b9f51f1
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/25/2020
ms.locfileid: "96594306"
---
# <a name="ca1036-override-methods-on-comparable-types"></a><span data-ttu-id="b262d-103">CA1036: Invalidar métodos en tipos comparables</span><span class="sxs-lookup"><span data-stu-id="b262d-103">CA1036: Override methods on comparable types</span></span>

| <span data-ttu-id="b262d-104">Elemento</span><span class="sxs-lookup"><span data-stu-id="b262d-104">Item</span></span>                                     | <span data-ttu-id="b262d-105">Valor</span><span class="sxs-lookup"><span data-stu-id="b262d-105">Value</span></span>            |
|------------------------------------------|------------------|
| <span data-ttu-id="b262d-106">RuleId</span><span class="sxs-lookup"><span data-stu-id="b262d-106">RuleId</span></span>                                   | <span data-ttu-id="b262d-107">CA1036</span><span class="sxs-lookup"><span data-stu-id="b262d-107">CA1036</span></span>           |
| <span data-ttu-id="b262d-108">Category</span><span class="sxs-lookup"><span data-stu-id="b262d-108">Category</span></span>                                 | <span data-ttu-id="b262d-109">Microsoft. Design</span><span class="sxs-lookup"><span data-stu-id="b262d-109">Microsoft.Design</span></span> |
| <span data-ttu-id="b262d-110">Corrección o interrupción</span><span class="sxs-lookup"><span data-stu-id="b262d-110">Fix is breaking or non-breaking</span></span> | <span data-ttu-id="b262d-111">Poco problemático</span><span class="sxs-lookup"><span data-stu-id="b262d-111">Non-breaking</span></span>     |

## <a name="cause"></a><span data-ttu-id="b262d-112">Causa</span><span class="sxs-lookup"><span data-stu-id="b262d-112">Cause</span></span>

<span data-ttu-id="b262d-113">Un tipo implementa la <xref:System.IComparable?displayProperty=fullName> interfaz y no invalida o no <xref:System.Object.Equals%2A?displayProperty=fullName> sobrecarga el operador específico del lenguaje para la igualdad, desigualdad, menor que o mayor que.</span><span class="sxs-lookup"><span data-stu-id="b262d-113">A type implements the <xref:System.IComparable?displayProperty=fullName> interface and does not override <xref:System.Object.Equals%2A?displayProperty=fullName> or does not overload the language-specific operator for equality, inequality, less-than, or greater-than.</span></span> <span data-ttu-id="b262d-114">La regla no notifica una infracción si el tipo hereda solo una implementación de la interfaz.</span><span class="sxs-lookup"><span data-stu-id="b262d-114">The rule does not report a violation if the type inherits only an implementation of the interface.</span></span>

<span data-ttu-id="b262d-115">De forma predeterminada, esta regla solo examina los tipos públicos y protegidos, pero esto es [configurable](#configurability).</span><span class="sxs-lookup"><span data-stu-id="b262d-115">By default, this rule only looks at public and protected types, but this is [configurable](#configurability).</span></span>

## <a name="rule-description"></a><span data-ttu-id="b262d-116">Descripción de la regla</span><span class="sxs-lookup"><span data-stu-id="b262d-116">Rule description</span></span>

<span data-ttu-id="b262d-117">Los tipos que definen un criterio de ordenación personalizado implementan la <xref:System.IComparable> interfaz.</span><span class="sxs-lookup"><span data-stu-id="b262d-117">Types that define a custom sort order implement the <xref:System.IComparable> interface.</span></span> <span data-ttu-id="b262d-118">El <xref:System.IComparable.CompareTo%2A> método devuelve un valor entero que indica el criterio de ordenación correcto para dos instancias del tipo.</span><span class="sxs-lookup"><span data-stu-id="b262d-118">The <xref:System.IComparable.CompareTo%2A> method returns an integer value that indicates the correct sort order for two instances of the type.</span></span> <span data-ttu-id="b262d-119">Esta regla identifica los tipos que establecen un criterio de ordenación.</span><span class="sxs-lookup"><span data-stu-id="b262d-119">This rule identifies types that set a sort order.</span></span> <span data-ttu-id="b262d-120">Establecer un criterio de ordenación implica que no se aplica el significado ordinario de igualdad, desigualdad, menor que y mayor que.</span><span class="sxs-lookup"><span data-stu-id="b262d-120">Setting a sort order implies that the ordinary meaning of equality, inequality, less-than, and greater-than don't apply.</span></span> <span data-ttu-id="b262d-121">Cuando se proporciona una implementación de <xref:System.IComparable> , normalmente también se debe invalidar <xref:System.Object.Equals%2A> para que devuelva valores que sean coherentes con <xref:System.IComparable.CompareTo%2A> .</span><span class="sxs-lookup"><span data-stu-id="b262d-121">When you provide an implementation of <xref:System.IComparable>, you must usually also override <xref:System.Object.Equals%2A> so that it returns values that are consistent with <xref:System.IComparable.CompareTo%2A>.</span></span> <span data-ttu-id="b262d-122">Si invalida <xref:System.Object.Equals%2A> y está codificando en un lenguaje que admite sobrecargas de operador, también debe proporcionar operadores coherentes con <xref:System.Object.Equals%2A> .</span><span class="sxs-lookup"><span data-stu-id="b262d-122">If you override <xref:System.Object.Equals%2A> and are coding in a language that supports operator overloads, you should also provide operators that are consistent with <xref:System.Object.Equals%2A>.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="b262d-123">Cómo corregir infracciones</span><span class="sxs-lookup"><span data-stu-id="b262d-123">How to fix violations</span></span>

<span data-ttu-id="b262d-124">Para corregir una infracción de esta regla, invalide <xref:System.Object.Equals%2A> .</span><span class="sxs-lookup"><span data-stu-id="b262d-124">To fix a violation of this rule, override <xref:System.Object.Equals%2A>.</span></span> <span data-ttu-id="b262d-125">Si el lenguaje de programación admite la sobrecarga de operadores, proporcione los operadores siguientes:</span><span class="sxs-lookup"><span data-stu-id="b262d-125">If your programming language supports operator overloading, supply the following operators:</span></span>

- <span data-ttu-id="b262d-126">op_Equality</span><span class="sxs-lookup"><span data-stu-id="b262d-126">op_Equality</span></span>
- <span data-ttu-id="b262d-127">op_Inequality</span><span class="sxs-lookup"><span data-stu-id="b262d-127">op_Inequality</span></span>
- <span data-ttu-id="b262d-128">op_LessThan</span><span class="sxs-lookup"><span data-stu-id="b262d-128">op_LessThan</span></span>
- <span data-ttu-id="b262d-129">op_GreaterThan</span><span class="sxs-lookup"><span data-stu-id="b262d-129">op_GreaterThan</span></span>

<span data-ttu-id="b262d-130">En C#, los tokens que se usan para representar estos operadores son los siguientes:</span><span class="sxs-lookup"><span data-stu-id="b262d-130">In C#, the tokens that are used to represent these operators are as follows:</span></span>

```csharp
==
!=
<
>
```

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="b262d-131">Cuándo suprimir advertencias</span><span class="sxs-lookup"><span data-stu-id="b262d-131">When to suppress warnings</span></span>

<span data-ttu-id="b262d-132">Es seguro suprimir una advertencia de la regla CA1036 cuando la infracción está causada por operadores que faltan y el lenguaje de programación no admite la sobrecarga de operadores, como es el caso de Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="b262d-132">It is safe to suppress a warning from rule CA1036 when the violation is caused by missing operators and your programming language does not support operator overloading, as is the case with Visual Basic.</span></span> <span data-ttu-id="b262d-133">Si determina que la implementación de los operadores no tiene sentido en el contexto de la aplicación, también es seguro suprimir una advertencia de esta regla cuando se activa en operadores de igualdad distintos de op_Equality.</span><span class="sxs-lookup"><span data-stu-id="b262d-133">If you determine that implementing the operators does not make sense in your app context, it's also safe to suppress a warning from this rule when it fires on equality operators other than op_Equality.</span></span> <span data-ttu-id="b262d-134">Sin embargo, siempre debe reemplazar op_Equality y el operador = = si invalida <xref:System.Object.Equals%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="b262d-134">However, you should always override op_Equality and the == operator if you override <xref:System.Object.Equals%2A?displayProperty=nameWithType>.</span></span>

## <a name="configurability"></a><span data-ttu-id="b262d-135">Configurabilidad</span><span class="sxs-lookup"><span data-stu-id="b262d-135">Configurability</span></span>

<span data-ttu-id="b262d-136">Puede configurar en qué partes del código base ejecutar esta regla, en función de su accesibilidad.</span><span class="sxs-lookup"><span data-stu-id="b262d-136">You can configure which parts of your codebase to run this rule on, based on their accessibility.</span></span> <span data-ttu-id="b262d-137">Por ejemplo, para especificar que la regla se debe ejecutar solo en la superficie de API no pública, agregue el siguiente par clave-valor a un archivo *. editorconfig* en el proyecto:</span><span class="sxs-lookup"><span data-stu-id="b262d-137">For example, to specify that the rule should run only against the non-public API surface, add the following key-value pair to an *.editorconfig* file in your project:</span></span>

```ini
dotnet_code_quality.ca1036.api_surface = private, internal
```

<span data-ttu-id="b262d-138">Puede configurar esta opción solo para esta regla, para todas las reglas o para todas las reglas de esta categoría (diseño).</span><span class="sxs-lookup"><span data-stu-id="b262d-138">You can configure this option for just this rule, for all rules, or for all rules in this category (Design).</span></span> <span data-ttu-id="b262d-139">Para obtener más información, vea [Opciones de configuración de reglas de calidad de código](../code-quality-rule-options.md).</span><span class="sxs-lookup"><span data-stu-id="b262d-139">For more information, see [Code quality rule configuration options](../code-quality-rule-options.md).</span></span>

## <a name="examples"></a><span data-ttu-id="b262d-140">Ejemplos</span><span class="sxs-lookup"><span data-stu-id="b262d-140">Examples</span></span>

<span data-ttu-id="b262d-141">El código siguiente contiene un tipo que implementa correctamente <xref:System.IComparable> .</span><span class="sxs-lookup"><span data-stu-id="b262d-141">The following code contains a type that correctly implements <xref:System.IComparable>.</span></span> <span data-ttu-id="b262d-142">Los comentarios de código identifican los métodos que cumplen varias reglas que están relacionadas con <xref:System.Object.Equals%2A> y la <xref:System.IComparable> interfaz.</span><span class="sxs-lookup"><span data-stu-id="b262d-142">Code comments identify the methods that satisfy various rules that are related to <xref:System.Object.Equals%2A> and the <xref:System.IComparable> interface.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca1036.cs" id="snippet1":::

<span data-ttu-id="b262d-143">El siguiente código de aplicación comprueba el comportamiento de la <xref:System.IComparable> implementación que se mostró anteriormente.</span><span class="sxs-lookup"><span data-stu-id="b262d-143">The following application code tests the behavior of the <xref:System.IComparable> implementation that was shown earlier.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca1036.cs" id="snippet2":::

## <a name="see-also"></a><span data-ttu-id="b262d-144">Vea también</span><span class="sxs-lookup"><span data-stu-id="b262d-144">See also</span></span>

- <xref:System.IComparable?displayProperty=fullName>
- <xref:System.Object.Equals%2A?displayProperty=fullName>
- [<span data-ttu-id="b262d-145">Operadores de igualdad</span><span class="sxs-lookup"><span data-stu-id="b262d-145">Equality operators</span></span>](../../../standard/design-guidelines/equality-operators.md)
